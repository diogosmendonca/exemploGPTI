<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Clientes - Listagem</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <main class="container py-4">
    <div class="d-flex flex-column flex-sm-row align-items-sm-center justify-content-between mb-3">
      <h1 class="mb-2 mb-sm-0">Clientes</h1>
      <div class="d-flex gap-2">
        <a href="cliente-cadastro.html" class="btn btn-primary">Novo Cliente</a>
      </div>
    </div>

    <div class="row g-3 align-items-end mb-3">
      <div class="col-12 col-md-6 col-lg-4">
        <label for="filtro" class="form-label">Filtrar</label>
        <input type="search" class="form-control" id="filtro" placeholder="Busque por nome, e-mail, telefone ou endereço">
      </div>
    </div>

    <!-- Tabela: visível em md+ -->
    <div class="table-responsive d-none d-md-block">
      <table class="table table-striped table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th scope="col">Nome</th>
            <th scope="col">E-mail</th>
            <th scope="col">Telefone</th>
            <th scope="col">Endereço</th>
          </tr>
        </thead>
        <tbody id="tabela-clientes">
          <tr>
            <td>Maria Silva</td>
            <td>maria.silva@example.com</td>
            <td>(11) 91234-5678</td>
            <td>Rua das Flores, 123 - Centro, São Paulo/SP</td>
          </tr>
          <tr>
            <td>João Pereira</td>
            <td>joao.pereira@example.com</td>
            <td>(21) 99876-5432</td>
            <td>Avenida Atlântica, 456 - Copacabana, Rio de Janeiro/RJ</td>
          </tr>
          <tr>
            <td>Ana Costa</td>
            <td>ana.costa@example.com</td>
            <td>(31) 98765-4321</td>
            <td>Rua Afonso Pena, 789 - Funcionários, Belo Horizonte/MG</td>
          </tr>
          <tr>
            <td>Carlos Souza</td>
            <td>carlos.souza@example.com</td>
            <td>(41) 97654-3210</td>
            <td>Rua XV de Novembro, 55 - Centro, Curitiba/PR</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Cards: visíveis em xs/sm -->
    <div id="cards-clientes" class="row row-cols-1 g-3 d-md-none"></div>

    <p id="sem-resultados" class="text-muted d-none mt-3">Nenhum resultado encontrado.</p>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const filtroInput = document.getElementById('filtro');
      const tbody = document.getElementById('tabela-clientes');
      const noResults = document.getElementById('sem-resultados');
      const cardsContainer = document.getElementById('cards-clientes');

      function construirCards() {
        cardsContainer.innerHTML = '';
        Array.from(tbody.rows).forEach(row => {
          const [nomeTd, emailTd, telTd, endTd] = row.cells;

          const col = document.createElement('div');
          col.className = 'col';

          const card = document.createElement('div');
          card.className = 'card cliente-card shadow-sm';

          const body = document.createElement('div');
          body.className = 'card-body';

          const titulo = document.createElement('h5');
          titulo.className = 'card-title mb-1';
          titulo.textContent = nomeTd.innerText.trim();

          const email = document.createElement('p');
          email.className = 'mb-1 text-muted small';
          email.textContent = emailTd.innerText.trim();

          const tel = document.createElement('p');
          tel.className = 'mb-1';
          tel.textContent = telTd.innerText.trim();

          const end = document.createElement('p');
          end.className = 'mb-0';
          end.textContent = endTd.innerText.trim();

          body.append(titulo, email, tel, end);
          card.appendChild(body);
          col.appendChild(card);
          cardsContainer.appendChild(col);
        });
      }

      function aplicarFiltro() {
        const termo = filtroInput.value.trim().toLowerCase();
        let visiveisTabela = 0;

        Array.from(tbody.rows).forEach(row => {
          const texto = row.innerText.toLowerCase();
          const match = texto.includes(termo);
          row.classList.toggle('d-none', termo && !match);
          if (!termo || match) visiveisTabela++;
        });

        const colunasCards = Array.from(cardsContainer.children);
        colunasCards.forEach(col => {
          const texto = col.innerText.toLowerCase();
          const match = texto.includes(termo);
          col.classList.toggle('d-none', termo && !match);
        });
        const visiveisCards = colunasCards.filter(col => !col.classList.contains('d-none')).length;

        const anyVisible = (visiveisTabela > 0) || (visiveisCards > 0);
        noResults.classList.toggle('d-none', anyVisible);
      }

      construirCards();
      aplicarFiltro();
      filtroInput.addEventListener('input', aplicarFiltro);
    });
  </script>
</body>
</html> 